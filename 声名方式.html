<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<ul id="ul1">
    <li>1</li>
    <li>2</li>
    <li>3</li>
</ul>
<script>
/*    let a=5;
    let a=6;  */ //Uncaught SyntaxError

/*var a=5;
function foo(){
    console.log(a);
    var a=6;
    //相当于
  /!*  var a;
    console.log(a);
    a=6;*!/
};
foo();*///undefined

/*var命令会发生”变量提升“现象，
即变量可以在声明之前使用，值为undefined。
这种现象多多少少是有些奇怪的，按照一般的逻辑，
变量应该在声明语句之后才可以使用。*/


/*变量提升2  函数的定义方式*/
/*fn1();
function fn1(){
    console.log('fn1');
}     //fn1

fn2();
var fn2=function(){
    console.log('fn2');
};      //Uncaught TypeError:*/



/*console.log("1=="+a);  //这里的a是函数a;
var a=5;
function a(){
    console.log("2=="+a);
}   //1==function a(){console.log("2=="+a);}

a=6;
console.log("3=="+a);
a();*/


//使用let 可以避免这些干扰


//当在后面的代码中使用了相同的名字，会影响到之前的那个变量
/*var a=5;
function foo(){
    console.log(a);
    //逻辑代码
    /!*if(false){
        var a=6;
    }*!/   //会影响输出的a的值
}
foo();*/

//在循环中使用var
/*for(var i=0;i<3;i++){
    console.log(i);
}
console.log(i);*/
//使用let
/*for(let i=0;i<3;i++){
    console.log(i);
}
console.log(i);*/

/*function foo(arg){
    console.log(arg);
    {
        let arg=6;
        console.log(arg);
    }
}
foo(5);*/

/*const a=5;
 a=6;   // Assignment to constant variable.
console.log(a);*/

/*const obj={
    name:'ddds',
    age:14
};
console.log(obj);*/

/*obj={                 //声名方式.html:97 Uncaught TypeError: Assignment to constant variable.
    name:"df"
};*/
/*obj.name="sd";
console.log(obj);

Object.freeze(obj);  //对象冻结
obj.name="sd";
console.log(obj);*/

/*const arr=[1,2,3,4];
console.log(arr);
arr.push(5);
console.log(arr);*/


var oUl=document.querySelector("#ul1");
var ali=oUl.getElementsByTagName("li");

//方法一 对象自定义
/*
for(let i=0;i<ali.length;i++){
    ali[i].index=i;
    ali[i].onclick=function(){
        console.log(this.index);
    }
}
*/

//方法二 let
/*for(let i=0;i<ali.length;i++){
    ali[i].onclick=function(){
        console.log(i);
    }
}*/


//闭包
for(var i=0;i<ali.length;i++){
    (function(idx){
      ali[idx].onclick=function(){
          console.log(idx);
      }
        //相当于
        /*ali[0].onclick=function(){
            console.log(0);
        };
        ali[1].onclick=function(){
            console.log(1);
        };
        ali[2].onclick=function(){
            console.log(2);
        }*/
    })(i);
}

    /*throw new Error("qiuyyu"); 抛出异常语法*/
</script>
</body>
</html>